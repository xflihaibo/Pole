# 伴影 (Shadow Mate) 🕯️👻

> **你是数字世界的航行者，而我是你身后的影子。**

「伴影」是一款专注于每日数字生活感性回顾的 Chrome 扩展程序。它不仅精准记录你的浏览统计，更通过独有的“私语引擎”将枯燥的数据转译为富有情感温度的叙事化总结。

---

## ✨ 核心特性

### 1. 归航仪式 (The Sunset Ritual)
在你设定的“归航时刻”（如 18:00），伴影会悄然浮现，为你送上今日的“私语总结”。支持自定义归航时间，让下班充满仪式感。

### 2. 沉浸式余晖 (Golden Hour)
临近归航前的 30 分钟，网页会泛起淡淡的橙色余晖（`mix-blend-mode: multiply`），并亮起一盏提灯图标，温柔提醒你从繁忙的数字世界中缓缓归航。

### 3. 伴影 · 私语 (Shadow Narrator)
基于用户行为特征（停留最久站点、活跃领域、键入强度等）生成的叙事化文案。它会告诉你今天是在“代码海洋航行”还是在“知识森林漫步”。

### 4. 深度统计与可视化
*   **今日轨迹时间轴**：直观展示上午、下午、傍晚的活跃标签。
*   **时长加权关键词**：根据页面停留时长，精准提取并排序今日最核心的 10 个关键词。
*   **数字劳动力矩阵**：统计活跃时长、点击数、鼠标滚动距离（米）及键入字符数。

### 5. 数字漂流瓶 (Time Capsule)
当你偶然重访曾留下深刻记忆（高互动）的网页时，伴影会带着当年的思绪突然浮现，实现跨越时空的数字重逢。

---

## 🛡️ 隐私与安全

**隐私是伴影的基石。**
- **零上传**：所有浏览记录、点击统计、输入内容分析仅保存在您本地的 `chrome.storage.local`。
- **本地处理**：数据分析与私语生成完全在浏览器本地执行，不连接任何远程服务器。
- **滚动清理**：数据仅保留 24 小时，过期自动物理删除。

---

## 🛠️ 技术栈

- **Manifest V3**：遵循最新的 Chrome 扩展标准。
- **Background Service Worker**：基于 Tab 状态与窗口焦点的精准计时引擎。
- **CSS Glassmorphism**：毛玻璃风格 UI 设计，极致的视觉体验。
- **Context-Safe Messaging**：具备物理熔断保护的底层通信机制，解决 `context invalidated` 报错。

---

## 🚀 安装指南 (开发者模式)

1. 下载或克隆本项目仓库。
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`。
3. 开启右上角的“开发者模式”。
4. 点击“加载已解压的扩展程序”，选择本项目文件夹。
5. 在插件栏固定“伴影”，开始你的温情探索。

---

## 📁 项目结构

```text
├── background.js      # 后台服务：计时引擎、数据聚合、闹钟管理
├── content.js         # 内容脚本：UI 注入、余晖滤镜、行为捕捉
├── popup.html/js      # 仪表盘：2x2 今日统计、足迹列表、归航设置
├── manifest.json      # 插件配置与权限定义
├── icons/             # 品牌视觉资产
└── openmemory.md      # 项目索引与逻辑记忆
```

---

## 🗺️ 路线图 (Roadmap)

- [ ] **AI 梦境生成**：接入本地 LLM，根据今日数据生成一段更有深度的“梦境日记”。
- [ ] **周度/月度勋章**：表彰那些能够坚持“按时归航”的自律者。
- [ ] **数据导出**：支持将今日足迹导出为美观的 PDF 或图片。
- [ ] **多端同步**：研究基于 WebRTC 的本地点对点同步方案。

## 🖋️ 设计初衷

在效率至上的数字时代，我们往往被淹没在无穷的信息流中。伴影希望在每一天的终点，为你提供一个停顿的瞬间，去回望那些指尖跳动的瞬间和思考的重量。

**辛苦了，现在的你值得被温柔对待。✨**
被温柔对待。✨**
